"use strict";window.onload=function(){var t=function(t){for(var n=document.cookie.split("; "),c=0;c<n.length;c++){var i=n[c].split("=");if(i[0]==t)return i[1]}return""}("username");""!==t?($(".list-logout").hide(),$(".list-logoin").show(),$(".nickName >a").text(t)):($(".list-logout").show(),$(".list-logoin").hide()),$(".logout").click(function(){document.cookie="username=",document.cookie="password=",window.location.reload(!0),$(".list-logoin").hide()});var a=JSON.parse(localStorage.getItem("cartList"));function c(){var t=a.every(function(t){return!0===t.isSelect}),n="";n+='\n        \n        <div class="top">\n          <input class="selectAll" type="checkbox" '.concat(t?"checked":"",'>   全选\n          <ul>\n                    <li>商品信息</li>\n                    <li>单价(元)</li>\n                    <li>数量</li>\n                    <li>小计(元)</li>\n                    <li>操作</li>\n                </ul>\n        </div>\n        <ul class="cart-center">\n      '),a.forEach(function(t){n+='\n          <li>\n            <div class="select">\n              <input data-id='.concat(t.id,' class="selectOne" type="checkbox" ').concat(t.isSelect?"checked":"",'>\n            </div>\n            <div class="info">\n              <img src="').concat(t.img,'" alt="">\n              <p>').concat(t.name,'</p>\n            </div>\n            <p class="price">￥：').concat(t.price,'</p>\n            <div class="number">\n              <button class="sub" data-id=').concat(t.id,'>-</button>\n              <input type="text" value="').concat(t.number,'">\n              <button class="add" data-id=').concat(t.id,'>+</button>\n            </div>\n            <p class="xiaoji">￥： ').concat(t.xiaoji,'</p>\n            <div class="del" data-id=').concat(t.id,">删除</div>\n          </li>\n        ")});var c=a.filter(function(t){return t.isSelect}),i=0,o=0;c.forEach(function(t){i+=t.number,o+=t.xiaoji}),n+='\n        </ul>\n        <div class="bottom">\n          <p>选中商品数量  <span>'.concat(i,"</span></p>\n          <p>总价： <span>￥： ").concat(o,'</span></p>\n          <button class="pay" ').concat(c.length?"":"disabled",'>去支付</button>\n          <button class="clear">清空购物车</button>\n        </div>\n        \n      \n        '),$(".cart ").html(n)}console.log(),a?(c(),$(".cart").on("change",".selectAll",function(){var n=this;a.forEach(function(t){t.isSelect=n.checked}),c(),localStorage.setItem("cartList",JSON.stringify(a))}),$(".cart").on("change",".selectOne",function(){var n=$(this).data("id");a.forEach(function(t){t.id===n&&(t.isSelect=!t.isSelect)}),c(),localStorage.setItem("cartList",JSON.stringify(a))}),$(".cart").on("click",".sub",function(){var n=$(this).data("id");a.forEach(function(t){t.id===n&&(1<t.number&&t.number--,t.xiaoji=t.price*t.number)}),c(),localStorage.setItem("cartList",JSON.stringify(a))}),$(".cart").on("click",".add",function(){var n=$(this).data("id");a.forEach(function(t){t.id===n&&(t.number++,t.xiaoji=t.number*t.price)}),c(),localStorage.setItem("cartList",JSON.stringify(a))}),$(".gw .cart").on("click",".del",function(){var n=$(this).data("id");$(this).parent().remove(),a=a.filter(function(t){return t.id!=n}),localStorage.setItem("cartList",JSON.stringify(a)),c(),0==a.length&[]&&($(".gw-logo").show(),$(".gw").hide())}),$(".gw .cart").on("click",".clear",function(){$(".cart").parent().remove(),localStorage.setItem("cartList",JSON.stringify([])),c(),$(".gw-logo").show()})):$(".gw-logo").show()};