"use strict";window.onload=function(){function n(n,t){return window.getComputedStyle?window.getComputedStyle(n,null)[t]:n.currentStyle[t]}var c=document.querySelector("#img-box"),o=document.querySelector(".middleImg"),s=document.querySelector("#bigImg"),a=document.querySelector("#middleArea"),t=document.querySelector("#bigArea");a.style.width=parseFloat(n(o,"width"))/parseFloat(n(s,"width"))*parseFloat(n(t,"width"))+"px",a.style.height=parseFloat(n(o,"height"))/parseFloat(n(s,"height"))*parseFloat(n(t,"height"))+"px";var l=parseFloat(n(t,"width"))/parseFloat(n(a,"width"));o.addEventListener("mouseenter",function(){a.style.display="block",t.style.display="block",document.onmousemove=function(n){var t=n||window.event,i=t.pageX-c.offsetLeft-o.offsetLeft-a.offsetWidth/2,e=t.pageY-c.offsetTop-o.offsetTop-a.offsetWidth/2;i<=0&&(i=0),i>=o.offsetWidth-a.offsetWidth&&(i=o.offsetWidth-a.offsetWidth),e<=0&&(e=0),e>=o.offsetHeight-a.offsetHeight&&(e=o.offsetHeight-a.offsetHeight),a.style.left=i+"px",a.style.top=e+"px",console.log(l),s.style.left=-l*i+"px",s.style.top=-l*e+"px"}}),o.addEventListener("mouseleave",function(){a.style.display="none",t.style.display="none",document.onmousemove=null}),$("#min-menu").mouseenter(function(){$(".lbcd-contiue").show()}),$("#min-menu").mouseleave(function(){$(".lbcd-contiue").hide()}),$(".lbcd-select>li").mouseenter(function(){var n=$(this).index();$(this).parent().siblings().show().children().eq(n).show().siblings().hide(),$(this).css("background","#337ab7").siblings().css("background","rgba(0,0,0,0)")}),$(".lbcd-wrap").mouseleave(function(){$(".lbcd-content-yc").hide(),$(".lbcd-select>li").css("background","rgba(0,0,0,0)")}),$(".app-xz > .gb").click(function(){$(".app-xz").hide(),$(".shopp.cart").removeClass("cart")}),$.ajax({url:"../lib/index.json",dataType:"json",success:function(n){var t="",i="",e="";n.forEach(function(n){n.line1.forEach(function(n){t+='\n                        <li>\n                        <a href="">\n                            <div class="product-cc">\n                                <img src="'.concat(n.img,'" alt="">\n                            </div>\n                            <div class="product-text">\n                                <div class="product-title">\n                                    <strong>').concat(n.name,'</strong>\n                                </div>\n                                <div class="product-price">').concat(n.price,"</div>\n                            </div>\n                        </a>\n                        </li>")}),n.line2.forEach(function(n){i+='\n                        <li>\n                        <a href="">\n                            <div class="product-cc">\n                                <img src="'.concat(n.img,'" alt="">\n                            </div>\n                            <div class="product-text">\n                                <div class="product-title">\n                                    <strong>').concat(n.name,'</strong>\n                                </div>\n                                <div class="product-price">').concat(n.price,"</div>\n                            </div>\n                        </a>\n                        </li>")}),n.line3.forEach(function(n){e+='\n                        <li>\n                        <a href="">\n                            <div class="product-cc">\n                                <img src="'.concat(n.img,'" alt="">\n                            </div>\n                            <div class="product-text">\n                                <div class="product-title">\n                                    <strong>').concat(n.name,'</strong>\n                                </div>\n                                <div class="product-price">').concat(n.price,"</div>\n                            </div>\n                        </a>\n                        </li>")})}),$(".line1").html(t),$(".line2").html(i),$(".line3").html(e)}}),$.ajax({url:"../lib/index2.json",dataType:"json",success:function(n){var t="";n.forEach(function(n){t+='\n                    <ul class="yc-list list-width-2 yc-type-2 ">\n                                      <li class="list-type-name">\n                                        <strong>'.concat(n.name,"</strong>\n                                    </li>"),n.list.forEach(function(n){t+='                                \n                            <li>\n                            <a href="">\n                                <div class="product-pic-40">\n                                    <img src="'.concat(n.img,'" alt="">\n                                </div>\n                                <div class="product-text">\n                                    <div class="product-title">\n                                        <strong>').concat(n.size,"</strong>\n                                    </div>\n                                </div>\n                            </a>\n                        </li>\n                        ")}),t+="</ul>"}),$("#tvsize").html(t)}}),$.ajax({url:"../lib/index3.json",dataType:"json",success:function(n){var t="";n.forEach(function(n){t+='\n                    <ul class="yc-list list-width-3 yc-type-3 ">\n                    <li class="list-type-name">\n                    <strong>'.concat(n.name,"</strong>\n                    <span>").concat(n.id,"</span>\n                </li>"),n.list.forEach(function(n){t+='                                \n                            <li>\n                            <a href="">\n                                <div class="product-pic-40">\n                                    <img src="'.concat(n.img,'" alt="">\n                                </div>\n                                <div class="product-text">\n                                    <div class="product-title">\n                                        <strong>').concat(n.size,"</strong>\n                                    </div>\n                                </div>\n                            </a>\n                        </li>\n                        ")}),t+="</ul>"}),$("#cj").html(t)}}),$.ajax({url:"../lib/index4.json",dataType:"json",success:function(n){var t="";n.forEach(function(n){t+='\n                    <ul class="yc-list list-width-3 yc-type-3 ">\n                    <li class="list-type-name">\n                                        <strong>'.concat(n.name,"</strong>\n\n                                    </li>"),n.list.forEach(function(n){t+='                                \n                            <li>\n                            <a href="">\n                                <div class="product-pic-40">\n                                    <img src="'.concat(n.img,'" alt="">\n                                </div>\n                                <div class="product-text">\n                                    <div class="product-title">\n                                        <strong>').concat(n.size,"</strong>\n                                    </div>\n                                </div>\n                            </a>\n                        </li>\n                        ")}),t+="</ul>"}),$("#jli").html(t)}}),$.ajax({url:"../lib/index5.json",dataType:"json",success:function(n){console.log(n);var t="";n.forEach(function(n){n.line4.forEach(function(n){t+='\n                        <li>\n                             <a href="">\n                                 <div class="product-pic-40">\n                                     <img src="'.concat(n.img,'" alt="">\n                                 </div>\n                                 <div class="product-text">\n                                        <div class="product-title">\n                                                    <strong>').concat(n.name,"</strong>\n                                                </div>\n                                            </div>\n                                        </a>\n                                    </li>")})}),$(".line4").html(t)}});var r=JSON.parse(localStorage.getItem("goodsInfo"));console.log(r),r||(alert("您要查看的数据不存在"),window.location.href="./detali.html"),$(".text-box .goodsName").text(r.name),$(".text-box .price").text(r.price),$(".middleImg img").attr("src",r.img),$("#bigArea #bigImg").attr("src",r.img),$("#small .as").attr("src",r.img),$(".addCart").click(function(){var n=JSON.parse(localStorage.getItem("cartList"))||[],t=n.some(function(n){return n.id===r.id});if(console.log(t),t){for(var i=null,e=0;e<n.length;e++)if(n[e].id===r.id){i=n[e];break}i.number++,i.xiaoji=i.number*i.price}else r.number=1,r.xiaoji=r.price,r.isSelect=!1,n.push(r);alert("添加成功"),localStorage.setItem("cartList",JSON.stringify(n)),console.log(n)})};